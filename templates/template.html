<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
        <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
        <script>
          tailwind.config = {
            theme: {
              extend: {
                fontFamily: {
                  sans: ['Inter', 'ui-sans-serif', 'system-ui'],
                }
              }
            }
          }
        </script>
        <link rel="stylesheet" href="{{PATH_TO_ROOT}}/static/style.css">
        <title>justin eldridge</title>
    </head>
    <body class="bg-white text-slate-900">
        <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 py-12 font-sans">
            <div class="flex justify-between items-center mb-6">
                <a class="text-sm font-medium text-sky-700 hover:text-sky-900" href="{{PATH_TO_ROOT}}/index.html">← go home</a>
            </div>
            <article class="prose prose-slate max-w-none">
                {{BODY}}
            </article>
        </div>
        <div class="flex justify-center lg:justify-end mt-10 mb-4 px-4 sm:px-6 lg:px-8 theme-toggle-container">
            <button id="theme-toggle" type="button" class="theme-toggle" aria-label="Toggle dark mode">
                <span id="theme-toggle-icon" aria-hidden="true">☾</span>
                <span id="theme-toggle-text">Dark</span>
            </button>
        </div>
        <script>
          document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('theme-toggle');
            const themeIcon = document.getElementById('theme-toggle-icon');
            const themeText = document.getElementById('theme-toggle-text');

            const getPreferredTheme = () => {
              const stored = localStorage.getItem('theme');
              if (stored === 'dark' || stored === 'light') return stored;
              return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            };

            const applyTheme = (mode, persist = false) => {
              const isDark = mode === 'dark';
              document.body.classList.toggle('dark', isDark);
              if (themeIcon) themeIcon.textContent = isDark ? '☀' : '☾';
              if (themeText) themeText.textContent = isDark ? 'Light' : 'Dark';
              if (persist) {
                localStorage.setItem('theme', isDark ? 'dark' : 'light');
              }
            };

            applyTheme(getPreferredTheme());
            if (themeToggle) {
              themeToggle.addEventListener('click', () => {
                const next = document.body.classList.contains('dark') ? 'light' : 'dark';
                applyTheme(next, true);
              });
            }
          });
        </script>
    </body>
</html>
